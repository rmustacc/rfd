<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<title>
DDI_UFM_SLOT(9F)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ddi_ufm_slot</b>, <b class="name">ddi_ufm_slot_set_version</b></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <i class="ftype">void</i><br/>
<b class="fname">ddi_ufm_slot_set_version</b>(<i class="farg">ddi_ufm_slot_t *usp</i>, <i class="farg">const char *version</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ddi_ufm_slot_set_attrs</b>(<i class="farg">ddi_ufm_slot_t *usp</i>, <i class="farg">ddi_ufm_attr_t attrs</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ddi_ufm_slot_set_primary</b>(<i class="farg">ddi_ufm_slot_t *usp</i>, <i class="farg">boolean_t isprimary</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ddi_ufm_slot_set_misc</b>(<i class="farg">ddi_ufm_slot_t *usp</i>, <i class="farg">nvlist_t *nvl</i>);</div>
<div class="section">
<h1 id="x494e54455246414345204c4556454c">INTERFACE LEVEL</h1> <span class="symb">Evolving -</span> This interface is evolving still in illumos. API and ABI stability is not guaranteed.</div>
<div class="section">
<h1 id="x504152414d4554455253">PARAMETERS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">usp</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
A pointer to a UFM slot structure that was passed to the driver in its <a class="link-man">ddi_ufm_op_fill_slot(9E)</a> entry point.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">version</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
A device-specific ASCII string that indicates the current version of the firmware image in the slot.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">attrs</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The bitwise-inclusive-OR of one of several attributes of a firmware slot. See the discussion of the <b class="fname">ddi_ufm_op_fill_slot</b>() function in <a class="link-man">ddi_ufm(9E)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">isprimary</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
A boolean indicating whether or not this slot is the currently active firmware slot.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">nvl</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
An nvlist_t with ancillary, device-specific data.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">ddi_ufm_slot_set_version</b>(), <b class="fname">ddi_ufm_slot_set_attrs</b>(), <b class="fname">ddi_ufm_slot_set_primary</b>(), and <b class="fname">ddi_ufm_slot_set_misc</b>() functions are used by device drivers to set information about a firmware slot on the slot structure <i class="farg">usp</i> as a part of implementing their <a class="link-man">ddi_ufm_op_fill_slot(9E)</a> entry point. For more information on slots and the use of these functions, see the description of the <b class="fname">ddi_ufm_op_fill_slot</b>() function in <a class="link-man">ddi_ufm(9E)</a>.<div class="spacer">
</div>
The <b class="fname">ddi_ufm_slot_set_version</b>() function sets the version property of a firmware slot. The version should be a human-readable ASCII string that describes the current firmware revision in a way that makes sense to an administrator and someone who is referencing the documentation of a vendor.<div class="spacer">
</div>
The <b class="fname">ddi_ufm_slot_set_attrs</b>() function describes attributes of a UFM slot. For example, whether the firmware in the slot can be read or written.<div class="spacer">
</div>
The <b class="fname">ddi_ufm_slot_set_primary</b>() function is used to indicate whether a given slot is the primary or active slot. If a device only has a single slot, then the driver does not need to call this function. The slot will always be treated as the primary in that case.<div class="spacer">
</div>
The <b class="fname">ddi_ufm_slot_set_misc</b>() function is used by the driver to set ancillary key-value data that may be useful to a consumer. For example, a driver may use this method to encode specific information that the firmware provides about how or when it was produced or installed on the device. The driver should create an nvlist for this purpose with <a class="link-man">nvlist_alloc(9F)</a>. Once the driver passes the nvlist to the <b class="fname">ddi_ufm_slot_set_misc</b>() function, then the driver must not manipulate or free the nvlist at all. It is the property of the UFM subsystem.</div>
<div class="section">
<h1 id="x434f4e54455854">CONTEXT</h1> These function should only be called in the context of the <a class="link-man">ddi_ufm_op_fill_slot(9E)</a> entry point. However, these functions may be called from <span class="symb">kernel</span> context.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1></div>
</div>
</body>
</html>

